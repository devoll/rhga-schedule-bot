# Бот отслеживания расписания РГХА

Телеграм-бот для отслеживания изменений в расписании занятий РГХА из Google Spreadsheet и уведомления подписчиков.

## Основные возможности

*   Периодическая проверка расписания в Google Spreadsheet (раз в час).
*   Сравнение с локальной базой данных для выявления изменений.
*   Отправка уведомлений об изменениях подписанным пользователям.
*   Сохранение актуального расписания в локальную базу данных.
*   Просмотр расписания через команды бота (сегодня, завтра, неделя, месяц).

## Технологический стек

*   Node.js
*   NestJS
*   TypeORM
*   SQLite
*   Telegraf (для интеграции с Telegram API)

## Запуск и настройка

1.  **Клонировать репозиторий:**
    ```bash
    git clone <URL репозитория>
    cd rgha-schedule-bot
    ```
2.  **Установить зависимости:**
    ```bash
    npm install
    ```
3.  **Настроить переменные окружения:**
    Создайте файл `.env` на основе `.env.example` и укажите необходимые значения:
    *   `TELEGRAM_BOT_TOKEN`: Токен вашего Telegram-бота.
    *   `GOOGLE_SPREADSHEET_ID`: ID Google таблицы с расписанием.
    *   `DATABASE_PATH` (опционально): Путь к файлу базы данных SQLite (по умолчанию `rgha-schedule-bot.sqlite`).
    *   `NODE_ENV`: Режим запуска (`development` или `production`).
    *   `TELEGRAM_DOMAIN` (для production webhook): Домен, на котором будет доступен бот.
    *   `TELEGRAM_WEBHOOK_PATH` (опционально для production webhook): Путь для вебхука.

4.  **Запустить приложение:**
    *   В режиме разработки:
        ```bash
        npm run start:dev
        ```
    *   Для production сборки:
        ```bash
        npm run build
        npm run start:prod
        ```

## Документация

Более подробное описание проекта и его компонентов можно найти в папке [`docs`](./docs/README.md).
